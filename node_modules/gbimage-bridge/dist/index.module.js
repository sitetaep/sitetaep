import r from"gatsby-background-image";import n from"react";function e(){return(e=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r}).apply(this,arguments)}var t=function(r){return"[object String]"===Object.prototype.toString.call(r)},l=function(r){return"fixed"===r.layout?"fixed":"fluid"},i=function(r){var n;for(n=0;n<r.length;n++)if(!t(r[n]))return r[n];return null},u=function(r){return r.width/r.height},a=function(r){var n,e,t,l;return r.placeholder?null!=(n=r.placeholder)&&null!=(e=n.fallback)&&e.includes("base64")?{base64:null==(t=r.placeholder)?void 0:t.fallback}:{tracedSVG:null==(l=r.placeholder)?void 0:l.fallback}:{}},c=function(r){if(r.srcSet){var n,e=[].concat(r.srcSet.matchAll(/(?:([^"'\s,]+)\s*(?:\s+\d+[wx])(?:,\s*)?)/gm)),t=r.sizes.replace("px",""),l=e.filter(function(r){return(null==r?void 0:r[0].includes("100w"))||(null==r?void 0:r[0].includes("1x"))||(null==r?void 0:r[0].includes(t+"w"))});return(null==l||null==(n=l[0])?void 0:n[1])||""}return""},o=function(r){var n,e,t;return null!=(n=r.images)&&n.sources&&Array.isArray(null==(e=r.images)?void 0:e.sources)?null==(t=r.images)?void 0:t.sources.reduce(function(r,n){var e,t=(null==n||null==(e=n.type)?void 0:e.split("/")[1])||"",l=(null==t?void 0:t.charAt(0).toUpperCase())+t.slice(1),i="srcSet"+l,u="src"+l;return l&&(!(i in r)&&null!=n&&n.srcSet&&(r[i]=n.srcSet),!(u in r)&&null!=n&&n.srcSet&&(r[u]=c(n))),r},{}):{}},s=function(r){if(r&&r.layout){var n={},t=l(r),i=u(r),c=a(r),s=o(r);return n[t]=e({},r.images.fallback,s,c,"fluid"===t?{aspectRatio:i}:{},"fixed"===t?{width:r.width,height:r.height}:{}),n}return null};function f(r){if(r){if(Array.isArray(r)){var n,u=function(r){var n=i(r);if(n){var u=l(n),a=r.map(function(r){if(t(r))return r;var n=s(r);return e({},n&&n[u],null!=r&&r.media?{media:r.media}:{})});return[u,a]}return[]}(r),a=u[0];return a?((n={})[a]=u[1],n):null}return s(r)}return null}var d=function(e){var t=e.image,l=e.children,i=function(r,n){if(null==r)return{};var e,t,l={},i=Object.keys(r);for(t=0;t<i.length;t++)n.indexOf(e=i[t])>=0||(l[e]=r[e]);return l}(e,["image","children"]),u=t&&f(t);return u?n.createElement(r,Object.assign({},u,i),l):n.createElement("div",null,l)};export{d as BgImage,s as convertSingleBgImage,f as convertToBgImage,o as getAllExtraSrcSets,u as getAspectRatio,l as getBgImageType,a as getPlaceholder,i as getSingleImage,c as getSrc,t as isString};
//# sourceMappingURL=index.module.js.map
