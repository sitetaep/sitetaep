!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("gatsby-background-image"),require("react")):"function"==typeof define&&define.amd?define(["exports","gatsby-background-image","react"],r):r((e||self).gbimageBridge={},e.gatsbyBackgroundImage,e.react)}(this,function(e,r,n){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=t(r),i=t(n);function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var a=function(e){return"[object String]"===Object.prototype.toString.call(e)},c=function(e){return"fixed"===e.layout?"fixed":"fluid"},o=function(e){var r;for(r=0;r<e.length;r++)if(!a(e[r]))return e[r];return null},f=function(e){return e.width/e.height},d=function(e){var r,n,t,l;return e.placeholder?null!=(r=e.placeholder)&&null!=(n=r.fallback)&&n.includes("base64")?{base64:null==(t=e.placeholder)?void 0:t.fallback}:{tracedSVG:null==(l=e.placeholder)?void 0:l.fallback}:{}},s=function(e){if(e.srcSet){var r,n=[].concat(e.srcSet.matchAll(/(?:([^"'\s,]+)\s*(?:\s+\d+[wx])(?:,\s*)?)/gm)),t=e.sizes.replace("px",""),l=n.filter(function(e){return(null==e?void 0:e[0].includes("100w"))||(null==e?void 0:e[0].includes("1x"))||(null==e?void 0:e[0].includes(t+"w"))});return(null==l||null==(r=l[0])?void 0:r[1])||""}return""},g=function(e){var r,n,t;return null!=(r=e.images)&&r.sources&&Array.isArray(null==(n=e.images)?void 0:n.sources)?null==(t=e.images)?void 0:t.sources.reduce(function(e,r){var n,t=(null==r||null==(n=r.type)?void 0:n.split("/")[1])||"",l=(null==t?void 0:t.charAt(0).toUpperCase())+t.slice(1),i="srcSet"+l,u="src"+l;return l&&(!(i in e)&&null!=r&&r.srcSet&&(e[i]=r.srcSet),!(u in e)&&null!=r&&r.srcSet&&(e[u]=s(r))),e},{}):{}},v=function(e){if(e&&e.layout){var r={},n=c(e),t=f(e),l=d(e),i=g(e);return r[n]=u({},e.images.fallback,i,l,"fluid"===n?{aspectRatio:t}:{},"fixed"===n?{width:e.width,height:e.height}:{}),r}return null};function p(e){if(e){if(Array.isArray(e)){var r,n=function(e){var r=o(e);if(r){var n=c(r),t=e.map(function(e){if(a(e))return e;var r=v(e);return u({},r&&r[n],null!=e&&e.media?{media:e.media}:{})});return[n,t]}return[]}(e),t=n[0];return t?((r={})[t]=n[1],r):null}return v(e)}return null}e.BgImage=function(e){var r=e.image,n=e.children,t=function(e,r){if(null==e)return{};var n,t,l={},i=Object.keys(e);for(t=0;t<i.length;t++)r.indexOf(n=i[t])>=0||(l[n]=e[n]);return l}(e,["image","children"]),u=r&&p(r);return u?i.default.createElement(l.default,Object.assign({},u,t),n):i.default.createElement("div",null,n)},e.convertSingleBgImage=v,e.convertToBgImage=p,e.getAllExtraSrcSets=g,e.getAspectRatio=f,e.getBgImageType=c,e.getPlaceholder=d,e.getSingleImage=o,e.getSrc=s,e.isString=a});
//# sourceMappingURL=index.umd.js.map
